(self["webpackChunkai_prophet_front"]=self["webpackChunkai_prophet_front"]||[]).push([[5144],{57254:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},o=a,s=r(27029),i=function(e,t){return n.createElement(s.Z,Object.assign({},e,{ref:t,icon:o}))};i.displayName="DownOutlined";var p=n.forwardRef(i)},69809:function(e){e.exports={main:"antd-pro-pages-user-resetpasswd-style-main",password:"antd-pro-pages-user-resetpasswd-style-password",getCaptcha:"antd-pro-pages-user-resetpasswd-style-getCaptcha",submit:"antd-pro-pages-user-resetpasswd-style-submit",login:"antd-pro-pages-user-resetpasswd-style-login",success:"antd-pro-pages-user-resetpasswd-style-success",warning:"antd-pro-pages-user-resetpasswd-style-warning",error:"antd-pro-pages-user-resetpasswd-style-error","progress-pass":"antd-pro-pages-user-resetpasswd-style-progress-pass",progress:"antd-pro-pages-user-resetpasswd-style-progress"}},33622:function(e){e.exports={"ant-avatar":"ant-avatar","ant-avatar-image":"ant-avatar-image","ant-image-img":"ant-image-img","ant-avatar-string":"ant-avatar-string","ant-avatar-icon":"ant-avatar-icon",anticon:"anticon","ant-avatar-lg":"ant-avatar-lg","ant-avatar-lg-string":"ant-avatar-lg-string","ant-avatar-sm":"ant-avatar-sm","ant-avatar-sm-string":"ant-avatar-sm-string","ant-avatar-square":"ant-avatar-square","ant-avatar-group":"ant-avatar-group","ant-avatar-group-popover":"ant-avatar-group-popover","ant-avatar-group-rtl":"ant-avatar-group-rtl","ant-popover-rtl":"ant-popover-rtl"}},85435:function(e){e.exports={"ant-popover":"ant-popover","ant-popover-hidden":"ant-popover-hidden","ant-popover-placement-top":"ant-popover-placement-top","ant-popover-placement-topLeft":"ant-popover-placement-topLeft","ant-popover-placement-topRight":"ant-popover-placement-topRight","ant-popover-placement-right":"ant-popover-placement-right","ant-popover-placement-rightTop":"ant-popover-placement-rightTop","ant-popover-placement-rightBottom":"ant-popover-placement-rightBottom","ant-popover-placement-bottom":"ant-popover-placement-bottom","ant-popover-placement-bottomLeft":"ant-popover-placement-bottomLeft","ant-popover-placement-bottomRight":"ant-popover-placement-bottomRight","ant-popover-placement-left":"ant-popover-placement-left","ant-popover-placement-leftTop":"ant-popover-placement-leftTop","ant-popover-placement-leftBottom":"ant-popover-placement-leftBottom","ant-popover-inner":"ant-popover-inner","ant-popover-title":"ant-popover-title","ant-popover-inner-content":"ant-popover-inner-content","ant-popover-message":"ant-popover-message",anticon:"anticon","ant-popover-message-title":"ant-popover-message-title","ant-popover-buttons":"ant-popover-buttons","ant-popover-arrow":"ant-popover-arrow","ant-popover-arrow-content":"ant-popover-arrow-content","ant-popover-pink":"ant-popover-pink","ant-popover-magenta":"ant-popover-magenta","ant-popover-red":"ant-popover-red","ant-popover-volcano":"ant-popover-volcano","ant-popover-orange":"ant-popover-orange","ant-popover-yellow":"ant-popover-yellow","ant-popover-gold":"ant-popover-gold","ant-popover-cyan":"ant-popover-cyan","ant-popover-lime":"ant-popover-lime","ant-popover-green":"ant-popover-green","ant-popover-blue":"ant-popover-blue","ant-popover-geekblue":"ant-popover-geekblue","ant-popover-purple":"ant-popover-purple","ant-popover-rtl":"ant-popover-rtl"}},92857:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return V}});r(13753);var n=r(48429),a=(r(34276),r(56466)),o=(r(55939),r(35949)),s=r(56361),i=(r(14643),r(92909)),p=r(44742),c=(r(68137),r(50532)),l=(r(67604),r(46906)),u=r(67294),d=r(87557),f=r(69809),v=r.n(f),g=r(94043),m=r.n(g),h=r(48636),y=["rules","name","phoneName","fieldProps","captchaTextRender","captchaProps"];function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e,t,r,n,a,o,s){try{var i=e[o](s),p=i.value}catch(c){return void r(c)}i.done?t(p):Promise.resolve(p).then(n,a)}function O(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){Z(o,n,a,s,i,"next",e)}function i(e){Z(o,n,a,s,i,"throw",e)}s(void 0)}))}}function E(e,t){if(null==e)return{};var r,n,a=P(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function P(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function S(e,t){return A(e)||z(e,t)||C(e,t)||k()}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){if(e){if("string"===typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done);s=!0)if(o.push(n.value),t&&o.length===t)break}catch(p){i=!0,a=p}finally{try{s||null==r["return"]||r["return"]()}finally{if(i)throw a}}return o}}function A(e){if(Array.isArray(e))return e}var _=u.forwardRef((function(e,t){var r=(0,u.useState)(e.countDown||60),a=S(r,2),o=a[0],s=a[1],i=(0,u.useState)(!1),p=S(i,2),d=p[0],f=p[1],v=(0,u.useState)(),g=S(v,2),h=g[0],b=g[1],j=(e.rules,e.name,e.phoneName),Z=e.fieldProps,P=e.captchaTextRender,k=void 0===P?function(e,t){return e?"".concat(t," \u79d2\u540e\u91cd\u65b0\u83b7\u53d6"):"\u83b7\u53d6\u9a8c\u8bc1\u7801"}:P,C=e.captchaProps,N=E(e,y),z=(0,u.useCallback)(function(){var e=O(m().mark((function e(t){return m().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,N.onGetCaptcha(t);case 4:b(!1),f(!0),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),b(!1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[]);return(0,u.useEffect)((function(){var t=0,r=e.countDown;return d&&(t=window.setInterval((function(){s((function(e){return e<=1?(f(!1),clearInterval(t),r||60):e-1}))}),1e3)),function(){return clearInterval(t)}}),[d]),u.createElement(l.Z.Item,{noStyle:!0,shouldUpdate:!0},(function(e){var r=e.getFieldValue,a=e.validateFields;return u.createElement("div",{style:x(x({},null===Z||void 0===Z?void 0:Z.style),{},{display:"flex",alignItems:"center"}),ref:t},u.createElement(c.Z,w({},Z,{style:{flex:1,transition:"width .3s",marginRight:8}})),u.createElement(n.Z,w({style:{display:"block"},disabled:d,loading:h},C,{onClick:O(m().mark((function e(){var t;return m().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!j){e.next=9;break}return e.next=4,a([j].flat(1));case 4:return t=r([j].flat(1)),e.next=7,z(t);case 7:e.next=11;break;case 9:return e.next=11,z("");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))}),k(d,o)))}))})),R=(0,h.Z)(_),I=r(62925),T=r(85893),q=l.Z.Item,F=c.Z.Group,H={ok:(0,T.jsx)("div",{className:v().success,children:(0,T.jsx)(d._H,{id:"userandregister.strength.strong"})}),pass:(0,T.jsx)("div",{className:v().warning,children:(0,T.jsx)(d._H,{id:"userandregister.strength.medium"})}),poor:(0,T.jsx)("div",{className:v().error,children:(0,T.jsx)(d._H,{id:"userandregister.strength.short"})})},D={ok:"success",pass:"normal",poor:"exception"},M=function(e){var t,r=e.submitting,f=e.dispatch,g=e.userAndregister,m=(0,u.useState)(!1),h=(0,p.Z)(m,2),y=h[0],w=h[1],b=(0,u.useState)("86"),x=(0,p.Z)(b,1),j=x[0],Z=(0,u.useState)(!1),O=(0,p.Z)(Z,2),E=O[0],P=O[1],S=!1,k=(0,d.YB)(),C=l.Z.useForm(),N=(0,p.Z)(C,1),z=N[0];(0,u.useEffect)((function(){g&&(console.log(g),200===g.code?(g.code=void 0,i.default.success((0,d.wv)({id:"resetpasswd.reset.successfully"})),d.m8.push({pathname:"/user/login"})):403===g.code&&(i.default.error((0,d.wv)({id:"resetpasswd.reset.usernameoremailinvalid"})),d.m8.push({pathname:"/user/register"})))}),[g]),(0,u.useEffect)((function(){return function(){clearInterval(t)}}),[]);var A=function(){var e=z.getFieldValue("password");return e&&e.length>9?"ok":e&&e.length>5?"pass":"poor"},_=function(e){f({type:"userAndregister/submit",payload:(0,s.Z)((0,s.Z)({},e),{},{prefix:j})})},M=function(e,t){var r=Promise;return t&&t!==z.getFieldValue("password")?r.reject((0,d.wv)({id:"userandregister.password.twice"})):r.resolve()},V=function(e,t){var r=Promise;return t?(y||w(!!t),P(!E),t.length<6?r.reject(""):(t&&S&&z.validateFields(["confirm"]),r.resolve())):(w(!!t),r.reject((0,d.wv)({id:"userandregister.password.required"})))},L=function(){var e=z.getFieldValue("password"),t=A();return e&&e.length?(0,T.jsx)("div",{className:v()["progress-".concat(t)],children:(0,T.jsx)(o.Z,{status:D[t],className:v().progress,strokeWidth:6,percent:10*e.length>100?100:10*e.length,showInfo:!1})}):null};return(0,T.jsxs)("div",{className:v().main,children:[(0,T.jsx)("h3",{children:(0,T.jsx)(d._H,{id:"userandregister.register.resetpasswd"})}),(0,T.jsxs)(l.Z,{form:z,name:"UserRegister",onFinish:_,children:[(0,T.jsx)(F,{compact:!0,children:(0,T.jsx)(q,{style:{width:"100%"},name:"username",rules:[{required:!0,message:(0,d.wv)({id:"userandregister.Username.required"})},{pattern:/^[a-zA-Z][a-zA-Z0-9_]{4,15}$/,message:(0,d.wv)({id:"userandregister.Username.wrong-format"})}],children:(0,T.jsx)(c.Z,{size:"large",placeholder:(0,d.wv)({id:"userandregister.Username.required"})})})}),(0,T.jsx)(a.Z,{getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e},content:y&&(0,T.jsxs)("div",{style:{padding:"4px 0"},children:[H[A()],L(),(0,T.jsx)("div",{style:{marginTop:10},children:(0,T.jsx)(d._H,{id:"userandregister.strength.msg"})})]}),overlayStyle:{width:240},placement:"right",visible:y,children:(0,T.jsx)(q,{name:"password",className:z.getFieldValue("password")&&z.getFieldValue("password").length>0&&v().password,rules:[{validator:V}],children:(0,T.jsx)(c.Z,{size:"large",type:"password",placeholder:(0,d.wv)({id:"userandregister.password.placeholder"})})})}),(0,T.jsx)(q,{name:"confirm",rules:[{required:!0,message:(0,d.wv)({id:"userandregister.confirm-password.required"})},{validator:M}],children:(0,T.jsx)(c.Z,{size:"large",type:"password",placeholder:(0,d.wv)({id:"userandregister.confirm-password.placeholder"})})}),(0,T.jsx)(q,{children:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(I.Z,{name:"email",placeholder:k.formatMessage({id:"pages.login.email.placeholder"}),rules:[{required:!0,message:(0,T.jsx)(d._H,{id:"pages.login.email.required",defaultMessage:"\u8bf7\u8f93\u5165\u90ae\u7bb1\uff01"})},{pattern:/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/,message:(0,T.jsx)(d._H,{id:"pages.login.email.invalid",defaultMessage:"\u683c\u5f0f\u9519\u8bef\uff01"})}]}),(0,T.jsx)(R,{captchaProps:{size:"large"},placeholder:k.formatMessage({id:"pages.login.captcha.placeholder"}),captchaTextRender:function(e,t){return e?"".concat(t," ").concat(k.formatMessage({id:"pages.getCaptchaSecondText"})):k.formatMessage({id:"pages.login.phoneLogin.getVerificationCode"})},name:"captcha",rules:[{required:!0,message:(0,T.jsx)(d._H,{id:"pages.login.captcha.required"})}]})]})}),(0,T.jsx)(q,{children:(0,T.jsx)(n.Z,{size:"large",loading:r,className:v().submit,type:"primary",htmlType:"submit",children:(0,T.jsx)(d._H,{id:"userandregister.register.resetpasswd"})})})]})]})},V=(0,d.$j)((function(e){var t=e.userAndregister,r=e.loading;return{userAndregister:t,submitting:r.effects["userAndregister/submit"]}}))(M)},95832:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n=function(e){if(!e)return null;var t="function"===typeof e;return t?e():e}},23040:function(e,t,r){"use strict";r.d(t,{C:function(){return C}});var n=r(3066),a=r(4763),o=r(47103),s=r(19877),i=r(67294),p=r(35510),c=r.n(p),l=r(20562),u=r(78703),d=r(67170),f=r(20324),v=r(85748),g=r(31312),m=i.createContext("default"),h=function(e){var t=e.children,r=e.size;return i.createElement(m.Consumer,null,(function(e){return i.createElement(m.Provider,{value:r||e},t)}))},y=m,w=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},b=function(e,t){var r,p,m=i.useContext(y),h=i.useState(1),b=(0,s.Z)(h,2),x=b[0],j=b[1],Z=i.useState(!1),O=(0,s.Z)(Z,2),E=O[0],P=O[1],S=i.useState(!0),k=(0,s.Z)(S,2),C=k[0],N=k[1],z=i.useRef(),A=i.useRef(),_=(0,u.sQ)(t,z),R=i.useContext(d.E_),I=R.getPrefixCls,T=function(){if(A.current&&z.current){var t=A.current.offsetWidth,r=z.current.offsetWidth;if(0!==t&&0!==r){var n=e.gap,a=void 0===n?4:n;2*a<r&&j(r-2*a<t?(r-2*a)/t:1)}}};i.useEffect((function(){P(!0)}),[]),i.useEffect((function(){N(!0),j(1)}),[e.src]),i.useEffect((function(){T()}),[e.gap]);var q=function(){var t=e.onError,r=t?t():void 0;!1!==r&&N(!1)},F=e.prefixCls,H=e.shape,D=e.size,M=e.src,V=e.srcSet,L=e.icon,B=e.className,U=e.alt,W=e.draggable,$=e.children,G=w(e,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children"]),Q="default"===D?m:D,X=(0,g.Z)(),Y=i.useMemo((function(){if("object"!==(0,o.Z)(Q))return{};var e=v.c4.find((function(e){return X[e]})),t=Q[e];return t?{width:t,height:t,lineHeight:"".concat(t,"px"),fontSize:L?t/2:18}:{}}),[X,Q]);(0,f.Z)(!("string"===typeof L&&L.length>2),"Avatar","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(L,"` at https://ant.design/components/icon"));var J,K=I("avatar",F),ee=c()((r={},(0,a.Z)(r,"".concat(K,"-lg"),"large"===Q),(0,a.Z)(r,"".concat(K,"-sm"),"small"===Q),r)),te=i.isValidElement(M),re=c()(K,ee,(p={},(0,a.Z)(p,"".concat(K,"-").concat(H),!!H),(0,a.Z)(p,"".concat(K,"-image"),te||M&&C),(0,a.Z)(p,"".concat(K,"-icon"),!!L),p),B),ne="number"===typeof Q?{width:Q,height:Q,lineHeight:"".concat(Q,"px"),fontSize:L?Q/2:18}:{};if("string"===typeof M&&C)J=i.createElement("img",{src:M,draggable:W,srcSet:V,onError:q,alt:U});else if(te)J=M;else if(L)J=L;else if(E||1!==x){var ae="scale(".concat(x,") translateX(-50%)"),oe={msTransform:ae,WebkitTransform:ae,transform:ae},se="number"===typeof Q?{lineHeight:"".concat(Q,"px")}:{};J=i.createElement(l.default,{onResize:T},i.createElement("span",{className:"".concat(K,"-string"),ref:function(e){A.current=e},style:(0,n.Z)((0,n.Z)({},se),oe)},$))}else J=i.createElement("span",{className:"".concat(K,"-string"),style:{opacity:0},ref:function(e){A.current=e}},$);return delete G.onError,delete G.gap,i.createElement("span",(0,n.Z)({},G,{style:(0,n.Z)((0,n.Z)((0,n.Z)({},ne),Y),G.style),className:re,ref:_}),J)},x=i.forwardRef(b);x.displayName="Avatar",x.defaultProps={shape:"circle",size:"default"};var j=x,Z=r(10048),O=r(75447),E=r(56466),P=function(e){var t=i.useContext(d.E_),r=t.getPrefixCls,n=t.direction,o=e.prefixCls,s=e.className,p=void 0===s?"":s,l=e.maxCount,u=e.maxStyle,f=e.size,v=r("avatar-group",o),g=c()(v,(0,a.Z)({},"".concat(v,"-rtl"),"rtl"===n),p),m=e.children,y=e.maxPopoverPlacement,w=void 0===y?"top":y,b=(0,Z.Z)(m).map((function(e,t){return(0,O.Tm)(e,{key:"avatar-key-".concat(t)})})),x=b.length;if(l&&l<x){var P=b.slice(0,l),S=b.slice(l,x);return P.push(i.createElement(E.Z,{key:"avatar-popover-key",content:S,trigger:"hover",placement:w,overlayClassName:"".concat(v,"-popover")},i.createElement(j,{style:u},"+".concat(x-l)))),i.createElement(h,{size:f},i.createElement("div",{className:g,style:e.style},P))}return i.createElement(h,{size:f},i.createElement("div",{className:g,style:e.style},b))},S=P,k=j;k.Group=S;var C=k},90930:function(e,t,r){"use strict";r(43673),r(33622),r(34276)},31312:function(e,t,r){"use strict";var n=r(19877),a=r(67294),o=r(85748);function s(){var e=(0,a.useState)({}),t=(0,n.Z)(e,2),r=t[0],s=t[1];return(0,a.useEffect)((function(){var e=o.ZP.subscribe((function(e){s(e)}));return function(){return o.ZP.unsubscribe(e)}}),[]),r}t["Z"]=s},56466:function(e,t,r){"use strict";var n=r(3066),a=r(67294),o=r(46190),s=r(67170),i=r(95832),p=r(31064),c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},l=a.forwardRef((function(e,t){var r=e.prefixCls,l=e.title,u=e.content,d=c(e,["prefixCls","title","content"]),f=a.useContext(s.E_),v=f.getPrefixCls,g=function(e){return a.createElement(a.Fragment,null,l&&a.createElement("div",{className:"".concat(e,"-title")},(0,i.Z)(l)),a.createElement("div",{className:"".concat(e,"-inner-content")},(0,i.Z)(u)))},m=v("popover",r),h=v();return a.createElement(o.Z,(0,n.Z)({},d,{prefixCls:m,ref:t,overlay:g(m),transitionName:(0,p.m)(h,"zoom-big",d.transitionName)}))}));l.displayName="Popover",l.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}},t["Z"]=l},34276:function(e,t,r){"use strict";r(43673),r(85435)}}]);